<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="EP_R_TASK_EMPLOYEE_VIEW">
	<resultMap id="ListEpRTaskEmployee"
		class="com.megaeyes.persistence.ibatis.vo.EpRTaskEmployeeDetailVO">
		<!-- WARNING - This element is automatically generated by Abator for iBATIS, 
			do not modify. This element was generated on Mon May 14 09:29:45 CST 2012. -->
		<result column="ID" property="id" jdbcType="VARCHAR" />
		<result column="TASK_ID" property="taskId" jdbcType="VARCHAR" />
		<result column="EMPLOYEE_ID" property="employeeId" jdbcType="VARCHAR" />
		<result column="USER_ID" property="userId" jdbcType="VARCHAR" />
		<result column="ALLOT_USER_ID" property="allotUserId" jdbcType="VARCHAR" />
		<result column="EXECUTE_TIME" property="executeTime" jdbcType="VARCHAR" />
		<result column="EXECUTE_TIME_TYPE" property="executeTimeType"
			jdbcType="DECIMAL" />
		<result column="TASK_TYPE" property="taskType" jdbcType="DECIMAL" />
		<result column="SUPPORT_EMPLOYEE" property="supportEmployee"
			jdbcType="VARCHAR" />
		<result column="name" property="taskname" jdbcType="DECIMAL" />
		<result column="note" property="taskNote" jdbcType="DECIMAL" />
	</resultMap>
	<select id="ListEpRTaskEmployee" resultMap="ListEpRTaskEmployee">
		select a.*,b.name,b.note from
		EP_R_TASK_EMPLOYEE a left join EP_TASK b on a.TASK_ID=b.id
		<dynamic prepend="where">
			<isNotNull prepend="and" property="taskId">
				a.TASK_ID=#taskId#
			</isNotNull>
			<isNotNull prepend="and" property="employeeId">
				a.EMPLOYEE_ID=#employeeId#
			</isNotNull>
			<isNotNull prepend="and" property="userId">
				a.USER_ID=#userId#
			</isNotNull>
			<isNotNull prepend="and" property="allotUserId">
				a.ALLOT_USER_ID=#allotUserId#
			</isNotNull>
			<isNotNull prepend="and" property="executeTime">
				a.EXECUTE_TIME=#executeTime#
			</isNotNull>

		</dynamic>
	</select>
</sqlMap>